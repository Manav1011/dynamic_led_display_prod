<div class="col-lg-3 mb-4 card">                
    <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
        <h6 class="m-0 font-weight-bold text-primary">SELECTED PROGRAM - <span id="currently_selected_program">None</span></h6>
    </div>
    <div class="panel-div card-body d-flex" style="justify-content:center;">
        <div class="panel_body" style="background-color:black;">                             
        </div>
    </div>
    </div>
<script>
    async function add_to_panel(elements,program_code=false,program_name=false){            
            let program_element = $(program_code)            
            let panel_div = $('.panel_body')    
            panel_div.html(program_element)        
            if(elements){
                elements.forEach((i) => {                    
                    let newElement = $(i.fields.code)        
                    newElement.resizable({
                        containment: ".program_boundry",
                        stop: function(event, ui) {
                            elementHTML = ui.helper.prop('outerHTML')
                            if(ws_program_and_elements){
                                ws_program_and_elements.send(JSON.stringify({
                                    client:'dashboard',
                                    page:'controller',
                                    action:'update_element',                
                                    'element_id':i.pk,
                                    'element_code':elementHTML,
                                    'selected_program':program_name
                                }))
                            }
                          }
                });
                    newElement.draggable({ 
                        containment: ".program_boundry" ,
                        stop: function(event, ui) {
                            elementHTML = ui.helper.prop('outerHTML')
                            if(ws_program_and_elements){
                                ws_program_and_elements.send(JSON.stringify({
                                    client:'dashboard',
                                    page:'controller',
                                    action:'update_element',                
                                    'element_id':i.pk,
                                    'element_code':elementHTML,
                                    'selected_program':program_name
                                }))
                            }
                          }
                    });                    
                    newElement.attr('data-element-id',i.pk)
                   // newElement.hover(function() {                        
                   //     $(this).css('border', '1px solid');
                   // }, function() {                        
                   //     $(this).css('border', 'none');
                   // });                    
                    newElement.css('padding','0')
                    newElement.css('border','none')
                    program_element.append(newElement)
                    if(ws_panel_changed_events){
                        ws_panel_changed_events.send(JSON.stringify({
                            client:'dashboard',
                            page:'controller',
                            action:'update_program',
                            program_code:program_element.prop('outerHTML'),
                            'selected_program':program_name
                        }))
                    }
                })  
            }            
        }
    </script>